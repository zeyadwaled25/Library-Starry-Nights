import { ArrowRight, Calendar, Clock, Instagram } from "lucide-react";
import { useParams, Link } from "react-router-dom";
import "./TextDetailPage.css";

function TextDetailPage() {
  // الحصول على معرف النص من الرابط
  const { id } = useParams();
  
  // بيانات النصوص (نفس البيانات من المكون الأصلي)
  const texts = [
    {
      id: 1,
      title: "المسعى المجهول",
      content: "أراك واقفاً هناك تحدق نحو العدم، تعانق الفراغ رغم كل ذلك الألم، وأنا لازلت لا أفهم لماذا تسمرت كل هذا الوقت هكذا، تبتسم بغرابة رغم عدم وجود سبب واضح لكي تبتسم، هل آلت بك الأمور إلى هذا الحد؟ أن تمضي بالحياة دون أي إدراك حقيقي بالواقع، استغرقت بالتفكير لمحاولة فهمك ولكن لم تُجدِ محاولتي الطويلة بأي فائدة، أنا أعرف أنني سوف أضيع وقتي لو حاولت الحديث معك، كل كلماتك سوف تزيدني حيرة فوق حيرتي، بقينا بهذا الحال كل هذه المدة حتى نسينا الإحساس بالوقت، إلى أن بدأت بالمشي وأنا تبعتك رغم درايتي أنك لا تعرف إلى أين تمشي، لا أعرف ماذا تطارد ولا أنت تعرف إن كان ما تطارده سوف يغير فيك شيئاً أصلاً، حتى عندما صرخت بوجهك، كل ما تراه وهم وخيال... سراب لا أكثر... أفق يا رجل أنت تمشي نحو العدم مع ذلك تابعتَ تمشي كأنك لا تسمعني، وكثيراً ما أشك أن كنت تراني أصلاً، أعرف النهاية يا صديقي لذلك استمع إليّ ولو لمرة واحدة، دعني أشعر بأنك إنسان، دعني أشعر بأنك فعلاً تستخدم العقل الذي فضلك الله به عن الحيوان. أعرف هذه النهاية، أنها كغيرها من النهايات، لماذا ترفض الإنصات إليّ؟ أيسعدك كل هذا الأذى الذي تتعرض له، أراك تتصبب دماً عوضاً عن العرق، لم تُحب النهاية مهما تغير السيناريو، ومهما تغيرت الظروف والأعمار سوف يتكرر كل ذلك طول العمر. حتى عندما وقفت أمامك رافضاً الحراك، لم أستطع أن أصدك عن التقدم، كأن حاجزاً غير ملموس يمنع عنك الحقيقة، أود لو أعرف عما تدافع، ولكن أعرف أنك لن تجاوبني، وتعبت من كثرة ما قلت لك أنك لم تُدرك ذلك النعيم ولكن ترفض إجاباتي، جعلتني أبكي والشك بدأ ينتابني على ما إذا كنتُ موجوداً، وأظن أن ذلك سوف يجلب إليك نوعاً من الرضى الحقيقي، حقيقة أنني لستُ واقعاً، ولكن كذلك ما تسعى إليه ليس بالواقع، لقد خُلقتُ لكي أقول لك توقف... لكي أقول لك فكر قليلاً لعل ذلك يصدك عن المزيد من الألم، لستَ بالمنفى الذي تدعي أنك فيه، تحرم نفسك من كل النعم الموجودة أمامك وتسعى نحو مدينة جديدة، عما تدافع؟ ألم تُخبرني؟ أستطيع أن أرى ذلك في عينيك، أنك تحمل نفسك أكثر مما ينبغي، ولم ينتهِ ذلك على خير. ها قد وصلت إلى منتصف الطريق، ولقد جعلتني أصرخ من أجلك، حتى أذنيك يخرج منها الدم الآن، تستند على جذوع مختلفة من الشجر ولكن لا يوجد أي منها قادر على حملك، ليس بعد، على الأقل، ولكنك تتسبب في كسرهم، سوف تجعل يدي تتلطخان بالدم عندما أنهال عليك بالضرب بلا توقف، تلك العيون تؤذيني بشدة، ولم أعد أستطع التحمل، لا عجب في أنك غير قادر على تقبل التغيير، حتى نفسك لم تستطع الوقوف نداً لك، عجباً كم أنت إنسان غريب، قد شحب جسدك كالميت، ولكنك مع ذلك تُكمل بخطوات ثابتة، سوف تبقى تمشي هكذا حتى تتعب عظامك وتخذلانك، وحينها... حينها فقط ستدرك أنك كنت تهلك كلينا بلا فائدة، ولم يبق لديك ما يكفي لكي تقاتل في سبيل ما يستحق، لم تعد مشكلتي بعد الآن. وحينها فقط التفت ونظر إليّ، رأيت نظرة الرعب في عينيك ولكن لم تعد مشكلتي بعد الآن، فتعامل مع نفسك، قمت بإعطائك كل ما لدي ولم يكن أي من ذلك كافياً، بدأت تركض ورائي، ولكن بخطوتين فقط أصبحت أبعد مما كنت تمشي إليه لسنوات، هل تعترف أنك مخطئ الآن؟ ولكن لا قيمة لذلك بالنسبة لي، عندما عبرتُ إلى الجانب الآخر من الباب لم أعد إلى جانبك مرة أخرى، كان يجدر بك أن تعرف ذلك سابقاً، لم أعد مشكلتك بعد الآن، لقد سرت بجانبك أكثر مما تتخيل، ولكن مخيلتك لم تكن معي بالأساس، كانت في عالم آخر ضبابي، لم تُبصر طريقك هناك، فكيف تُبصر الآن؟... والآن سوف تصبح أكثر شيء تخافه، أن تكون القصة المنسية، ولا يتذكرك أحد. كثير من العلامات كانت تحوم حولك، لكنك كنت كالأعمى أمامها، أحمق ترفض الإنصات، ولم تُحب هذه النهاية كذلك. قلت لك... قلت لك العديد من المرات، حاولتُ قراءة أفكارك، وللأسف لم أتعلم ذلك أبداً، ولكنك لم ترغب بأن يفعل ذلك أحد أصلاً، فلا تندم عندما رأيتني بالجهة الأخرى من الباب يُغلق، والحيرة ظاهرة على محياك.",
      date: "2-19-2025",
      hour: "5:36 PM",
    },
    {
      id: 2,
      title: "كاذب سيء",
      content: "تقضي حالها من حال باقي السنوات, سابقا كنت أعامل كل بداية كفاجعه تنحل علي, واليوم أعامل بداية كل يوم كواحده, كانت سنوات صعبة, وليست هذه بالهينه كذلك, أتمنى أن تثق بكلامتي, أن تعدها اثمن ما تملك, أن تصنع منها معطف تحتمي به من البرد, تعود على كلاهما المخاوف والخذلان, كلاهما يقويك كقصاوة أخو يوسف, أنظر الي دموعك كأنها هموم تتساقط لتنام بكل راحة, أعلم أنك سوف تستيقظ متهالك, تشعر بأن حالك أسوء من ما كانت, ولكن لا أظن أن الكذب على نفس سوف يضر, أنظر الى عيناي وقل لي ماذا ترا, قرية خلابه مطلة على البحر, تخبرك كيف أرى الحياة, أعي الالمها تمام ولكن أختار الاحتفاء بتلك اللحظات الجميلة, التي تبدء في كل نهاية أسبوع وعيد, وكذلك بالمناسبات, تذكرنا بأننا أحرار, رغم أننا لسنا كذلك بالواقع, ولكن دعنا نتصعنا ذلك, ونعامل الجميع بكل خير, الجميع يأكل ويشرب من نفس الكأس, لذلك لا حاجة لتتأخذ الألم ذريعة لأثامك, الخبز خبز والماء ماء, قطعا ليس بنفس النقاوة, ولكن من قال لك بأنك نجم ساطع ينفرد بالسماء, الم يقل لك بأن عدد النجوم بالسماء يفوق التراب بلارض, ولكن ماذا يمنع أن تحلم, الا يحق لنا جميع أن تكون لدينا أحلام؟ صدقني لقد أصبح الصبر أكثر ثمنا من الالماس أعلم أن أغلب الاحلام تكون خزعبلات, ولكن يحق لنا أن نحلم جميعا, الست أقول الحقيقة؟ أعرف أن بعضها كوابيس ولكن ما باليد حيلة اليس كذلك؟ ماذا أصابك لتبتعد بهذا الفزع؟ لماذا تبتعد ماذا رأيت في عيناي؟ أيعقل أن ترى غابات تشتعل!!.....وطيور تترك صيصناها لتحترق, والارانب تتسابق لتهرب من الاغصان المتساقطة خائفة من أن تختنق....وثعبان يضرب رأسه بالشجر حتى يموت قبل أن تلتهم النيران...هذا غير معقول....كيف للفئران أن تقبل بأن تموت مدفون على ألم الحريق....أيعقل أن تكون موت الاحتراق أشد الم من كل هذا كنت لأقول أنك كاذب بارع ولكن رأيتها في عيناك.... أتلك أنعكسات من عيناي على عيناك أم أن كلامي كله في مهب الريح؟ ولم تكن لتقتنع بما أقول مهما حاولت!!!! لا ألومك لأنك لا تصدق كلانا, فالحقيقة في أيامنا شيء نسبي, قد نكون كاذبان بالقدر الذي نصدق به, ولكن لنتحل بالانسانية, والايمان, نعم الايمان, لأننا مؤممنون, دع النار تحرقنا الان لحياة أفضل بالعالم الاخرة.",
      date: "2-14-2025",
      hour: "12:58 AM",
    },
    {
      id: 3,
      title: "أسئلة بلا إجابات",
      content: "أود أن أحكي لك قصة، ولكن أتساءل إن كانت سوف تناسب ذوقك، أو أنك الشخص المقدر له أن يسمعها. أتمنى لو أستطيع أخذك في هذه الرحلة، ولكن لا أزال لا أعرف طبيعتك، أو إن كنت قادرًا على الاحتمال. الطقس متقلب دائمًا، وما يغلب عليه هو الضباب والسراب، فلا الرؤية واضحة، وقد يكون ما تراه مجرد خيال. لا أعرف كيف ستكون ردة فعلك على اختلاف الفصول، فقد تأتي في فصل الربيع ولم تجد نفس الأزهار في المرة القادمة. لا أعرف إن كنت قادرًا على تصديقي عندما أقول لك، أنك لم تفهم أغلب ما سوف تراه، ولا أنا كذلك في غالب الأحيان، أحاول التكيف رغم ذلك، ولكن دائمًا ما ينفد صبري. فهل لديك ما يكفي لكي تبقى؟ لكي تتحمل أسئلة قد لا تجد لها جوابًا، وتبقى غارقًا في صمت مطبق لا مبرر له. أن ترى ميلادًا ومقتل شخص جديد كل يوم، بدون أن تهرب مصابًا بالهلع، بالريبة والشكوك، تطاردك الأسئلة في كل لحظة، حينها تقفل على نفسك الباب لأنك لم تجد أي إجابات، فلماذا ترهق نفسك بالمزيد. فقط لأنك تدرك كل الدراية بأنه لا يوجد إجابات لأسئلتك. لا أريد منك أن تتأذى بسبب فضولك، ولتعلم بأن كل الأمور التي تتخذها ذريعة للإكمال سوف تختفي، سوف تنكشف ما كان يخيفك حقًا، ولن تعود إليك رغبة لكي تكمل. عندما تتضح الصورة كاملة، عندما تستقر قطرات المطر على اللوحة الساقطة على الأرض وتكتمل فراغاتها، لا الكلمات والكتابات قادرة على كشف المخفي، ستبذل كل جهدك، ولكن من أجل لا شيء. سوى أن تخرج جريحًا من معركة لم تكن تعرف بها من هو عدوك.",
      date: "2-7-2025",
      hour: "2:20 PM",
    },
  ];

  // البحث عن النص المطلوب باستخدام المعرف
  const selectedText = texts.find(text => text.id === parseInt(id));

  // في حالة عدم العثور على النص
  if (!selectedText) {
    return (
      <div className="text-not-found text-center py-5">
        <h2>النص غير موجود</h2>
        <Link to="/" className="back-link d-flex align-items-center justify-content-center mt-4">
          <ArrowRight size={18} />
          <span className="me-2">العودة للصفحة الرئيسية</span>
        </Link>
      </div>
    );
  }

  return (
    <div className="text-detail-page py-5" dir="rtl">
      <div className="container">
        <div className="detail-card bg-white p-4 border rounded shadow">
          {/* رأس الصفحة */}
          <div className="text-header mb-4">
            <h1 className="text-title mb-3">{selectedText.title}</h1>
            <div className="text-meta d-flex flex-wrap">
              <div className="date-time me-4 d-flex align-items-center text-muted">
                <Calendar size={16} className="ms-1" />
                <span>{selectedText.date}</span>
              </div>
              <div className="date-time d-flex align-items-center text-muted">
                <Clock size={16} className="ms-1 me-2" />
                <span>{selectedText.hour}</span>
              </div>
              <a className="me-2 mb-1" href="https://www.instagram.com/a1o9?igsh=aG51NmU4emE4YmYz" target="_blank"><Instagram size={16} /></a>
            </div>
          </div>
          
          {/* محتوى النص */}
          <div className="text-content mb-4">
            {selectedText.content.split('\n').map((paragraph, index) => (
              <p key={index} className="mb-3">{paragraph}</p>
            ))}
          </div>
          
          {/* زر العودة */}
          <div className="text-center">
            <Link to="/" className="back-btn d-inline-flex align-items-center">
              <ArrowRight size={18} />
              <span className="me-2">العودة للقائمة</span>
            </Link>
          </div>
        </div>
      </div>
    </div>
  );
}

export default TextDetailPage;